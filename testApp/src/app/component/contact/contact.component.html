<div class="contact-shell">
  <!-- Hero Section -->
  <div class="contact-hero">
    <div class="inner">
      <h1>
        <span class="kicker">Get In Touch</span>
        <span class="brand">Contact Us</span>
      </h1>
      <p class="lead">
        We're here to help and answer any questions you might have. 
        We look forward to hearing from you!
      </p>
    </div>
  </div>

  <!-- Main Contact Form -->
  <div class="contact-form-container" [ngClass]="{'submitted': isSubmitted}">
    <div class="form-card" *ngIf="!isSubmitted">
      <div class="form-header">
        <h2>Send us a Message</h2>
        <p>Fill out the form below and we'll get back to you soon.</p>
      </div>

      <form 
        class="contact-form" 
        action="https://formspree.io/f/xgvlqpge"
        method="POST"
        #contactForm="ngForm"
        (ngSubmit)="onSubmit(contactForm)"
      >
        <!-- Name Field -->
        <div class="input-group">
          <label for="name" class="input-label">Full Name</label>
          <input 
            type="text" 
            id="name" 
            name="name" 
            [(ngModel)]="formData.name"
            #nameField="ngModel"
            required
            class="form-input"
            placeholder="Enter your full name"
            [class.error]="nameField.invalid && nameField.touched"
          >
          <div class="input-focus-line"></div>
          <div class="error-message" *ngIf="nameField.invalid && nameField.touched">
            Name is required
          </div>
        </div>

        <!-- Contact Number Field -->
        <div class="input-group">
          <label for="phone" class="input-label">Contact Number</label>
          <input 
            type="tel" 
            id="phone" 
            name="phone" 
            [(ngModel)]="formData.phone"
            #phoneField="ngModel"
            required
            pattern="[0-9]{10,15}"
            class="form-input"
            placeholder="Enter your contact number"
            [class.error]="phoneField.invalid && phoneField.touched"
          >
          <div class="input-focus-line"></div>
          <div class="error-message" *ngIf="phoneField.invalid && phoneField.touched">
            Valid contact number is required (10-15 digits)
          </div>
        </div>

        <!-- Email Field -->
        <div class="input-group">
          <label for="email" class="input-label">Email Address</label>
          <input 
            type="email" 
            id="email" 
            name="email" 
            [(ngModel)]="formData.email"
            #emailField="ngModel"
            required
            email
            class="form-input"
            placeholder="Enter your email address"
            [class.error]="emailField.invalid && emailField.touched"
          >
          <div class="input-focus-line"></div>
          <div class="error-message" *ngIf="emailField.invalid && emailField.touched">
            Valid email address is required
          </div>
        </div>

        <!-- Country Dropdown -->
        <div class="input-group">
          <label for="country" class="input-label">Country</label>
          <div class="select-wrapper">
            <select 
              id="country" 
              name="country" 
              [(ngModel)]="formData.country"
              #countryField="ngModel"
              required
              class="form-select"
              [class.error]="countryField.invalid && countryField.touched"
            >
              <option value="" disabled>Select your country</option>
              <option value="United States">United States</option>
              <option value="India">India</option>
              <option value="United Kingdom">United Kingdom</option>
              <option value="Canada">Canada</option>
              <option value="Australia">Australia</option>
              <option value="Germany">Germany</option>
              <option value="France">France</option>
              <option value="Japan">Japan</option>
              <option value="China">China</option>
              <option value="Brazil">Brazil</option>
              <option value="Mexico">Mexico</option>
              <option value="South Africa">South Africa</option>
              <option value="Egypt">Egypt</option>
              <option value="Nigeria">Nigeria</option>
              <option value="Kenya">Kenya</option>
              <option value="Singapore">Singapore</option>
              <option value="Malaysia">Malaysia</option>
              <option value="Thailand">Thailand</option>
              <option value="Philippines">Philippines</option>
              <option value="Vietnam">Vietnam</option>
              <option value="Indonesia">Indonesia</option>
              <option value="Other">Other</option>
            </select>
            <div class="select-arrow">
              <svg width="12" height="8" viewBox="0 0 12 8">
                <path d="M1 1l5 5 5-5" stroke="currentColor" stroke-width="2" fill="none"/>
              </svg>
            </div>
          </div>
          <div class="error-message" *ngIf="countryField.invalid && countryField.touched">
            Please select your country
          </div>
        </div>

        <!-- Message Field -->
        <div class="input-group">
          <label for="message" class="input-label">What you want to share</label>
          <textarea 
            id="message" 
            name="message" 
            [(ngModel)]="formData.message"
            #messageField="ngModel"
            required
            minlength="10"
            class="form-textarea"
            placeholder="Tell us about your inquiry or message..."
            rows="5"
            [class.error]="messageField.invalid && messageField.touched"
          ></textarea>
          <div class="input-focus-line"></div>
          <div class="error-message" *ngIf="messageField.invalid && messageField.touched">
            Message is required (minimum 10 characters)
          </div>
        </div>

        <!-- Hidden Formspree Fields -->
        <input type="hidden" name="_subject" value="New Contact Form Submission" />
        <input type="hidden" name="_next" value="thank-you" />
        <input type="hidden" name="_captcha" value="false" />

        <!-- Animated Submit Button -->
        <div class="submit-container">
          <input type="checkbox" name="send" id="send" [(ngModel)]="isAnimating" />
          <label 
            for="send" 
            class="send" 
            (click)="submitForm(contactForm)"
            [class.disabled]="contactForm.invalid || isSubmitting"
          >
            <div class="rotate">
              <div class="move">
                <div class="part left"></div>
                <div class="part right"></div>
              </div>
            </div>
          </label>
          <p class="submit-hint" *ngIf="!isSubmitting">Click the button to send your message</p>
          <p class="submit-hint submitting" *ngIf="isSubmitting">Sending your message...</p>
        </div>
      </form>
    </div>

    <!-- Thank You Message -->
    <div class="thank-you-card" *ngIf="isSubmitted">
      <div class="success-icon">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none">
          <circle cx="12" cy="12" r="10" stroke="#217a3a" stroke-width="2"/>
          <path d="m9 12 2 2 4-4" stroke="#217a3a" stroke-width="2"/>
        </svg>
      </div>
      <h2>Thank You for Contacting Us!</h2>
      <p>We have received your message and will get back to you soon.</p>
      <p class="small-text">Response time: Usually within 24 hours</p>
      <button class="back-btn" (click)="resetForm()">Send Another Message</button>
    </div>

    <!-- Error Message -->
    <div class="error-card" *ngIf="hasError">
      <div class="error-icon">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none">
          <circle cx="12" cy="12" r="10" stroke="#dc3545" stroke-width="2"/>
          <path d="M15 9l-6 6M9 9l6 6" stroke="#dc3545" stroke-width="2"/>
        </svg>
      </div>
      <h2>Oops! Something went wrong</h2>
      <p>There was an error sending your message. Please try again.</p>
      <button class="back-btn error-btn" (click)="resetForm()">Try Again</button>
    </div>
  </div>
</div>